<?xml version='1.0' encoding='utf-8' ?>
<manifest android:versionCode="138"
          android:versionName="2.12.0"
          android:compileSdkVersion="33"
          android:compileSdkVersionCodename="13"
          package="ru.x5.perekrestok.darkstore"
          platformBuildVersionCode="33"
          platformBuildVersionName="13" xmlns:android="http://schemas.android.com/apk/res/android" xmlns:kiber="http://schemas.android.com/apk/res/kiber">
  <uses-sdk android:minSdkVersion="25" kiber:value="test"
            android:targetSdkVersion="33" />
  <permission android:name="ru.x5.perekrestok.darkstore.permission.pushserver.RECEIVE"
              android:protectionLevel="signature" />
  <uses-permission android:name="android.permission.INTERNET" />
  <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
  <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
  <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
  <uses-permission android:name="android.permission.VIBRATE" />
  <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
  <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
  <uses-permission android:name="android.permission.READ_PHONE_STATE" />
  <uses-permission android:name="android.permission.READ_CONTACTS" />
  <uses-permission android:name="com.google.android.gms.permission.AD_ID" />
  <uses-permission android:name="ru.x5.perekrestok.darkstore.permission.pushserver.RECEIVE" />
  <uses-feature android:name="android.hardware.telephony"
                android:required="true" />
  <queries>
    <intent>
      <action android:name="android.media.action.IMAGE_CAPTURE" />
    </intent>
    <intent>
      <action android:name="android.intent.action.PICK" />
      <data android:mimeType="image/*" />
    </intent>
    <intent>
      <action android:name="android.intent.action.DIAL" />
    </intent>
    <intent>
      <action android:name="android.intent.action.VIEW" />
    </intent>
    <intent>
      <action android:name="android.intent.action.VIEW" />
      <category android:name="android.intent.category.BROWSABLE" />
      <data android:scheme="https" />
    </intent>
    <package android:name="com.google.android.apps.maps" />
    <intent>
      <action android:name="com.appsflyer.oem.PRELOAD_PROVIDER" />
    </intent>
    <package android:name="ru.sberbankmobile" />
    <intent>
      <action android:name="android.intent.action.MAIN" />
    </intent>
  </queries>
  <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
  <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"
                   android:maxSdkVersion="28" />
  <uses-permission android:name="android.permission.ACCESS_MEDIA_LOCATION" />
  <uses-permission android:name="android.permission.CAMERA" />
  <uses-permission android:name="android.permission.WAKE_LOCK" />
  <uses-permission android:name="android.permission.DOWNLOAD_WITHOUT_NOTIFICATION" />
  <uses-permission android:name="android.permission.RECORD_AUDIO" />
  <uses-feature android:name="android.hardware.camera"
                android:required="false" />
  <uses-feature android:name="android.hardware.camera.autofocus"
                android:required="false" />
  <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
  <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
  <uses-permission android:name="com.google.android.finsky.permission.BIND_GET_INSTALL_REFERRER_SERVICE" />
  <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
  <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
  <uses-feature android:glEsVersion="0x00020000"
                android:required="true" />
  <application android:theme="@style/AppTheme"
               android:label="Впрок"
               android:icon="@mipmap/ic_launcher"
               android:name="ru.perekrestok.store.App"
               android:debuggable="true"
               android:allowBackup="false"
               android:hardwareAccelerated="true"
               android:largeHeap="true"
               android:supportsRtl="true"
               android:extractNativeLibs="false"
               android:fullBackupContent="@null"
               android:usesCleartextTraffic="true"
               android:networkSecurityConfig="@xml/network_security_config"
               android:roundIcon="@mipmap/ic_launcher_round"
               android:appComponentFactory="androidx.core.app.CoreComponentFactory">
    <activity android:theme="@style/Theme.Perekrestok.DarkstoreExpress.Onboarding.Regular"
              android:name="ru.perekrestok.store.features.darkstoreexpress.onboarding.main.DarkstoreExpressOnMainOnboardingActivity"
              android:exported="false"
              android:windowSoftInputMode="adjustNothing"
              android:noHistory="true" />
    <activity android:theme="@style/Theme.Perekrestok.DarkstoreExpress.Onboarding.Regular"
              android:name="ru.perekrestok.store.features.darkstoreexpress.onboarding.cart.DarkstoreExpressOnCartOnboardingActivity"
              android:exported="false"
              myvalue="test1"
              android:windowSoftInputMode="adjustNothing"
              android:noHistory="true" />
    <activity android:name="ru.perekrestok.store.features.mainactivity.MainActivity"
              android:exported="true"
              android:launchMode="singleTask"
              android:screenOrientation="portrait"
              android:windowSoftInputMode="adjustNothing">
      <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
      </intent-filter>
      <intent-filter android:autoVerify="true">
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />
        <data android:scheme="https" />
        <data android:scheme="ru.x5.perekrestok.darkstore" />
        <data android:scheme="ru.x5.perekrestok.darkstore" />
        <data android:host="www.vprok.ru" />
        <data android:host="zoo.vprok.ru" />
        <data android:host="vprok.ru" />
        <data android:host="darkstore.onelink.me" />
        <data android:path="/cart" />
        <data android:pathPrefix="/catalog" />
        <data android:pathPrefix="/product" />
        <data android:pathPrefix="/promos" />
        <data android:path="/history" />
        <data android:path="/favorite" />
        <data android:path="/profile" />
        <data android:path="/profile/address" />
        <data android:path="/profile/orders/history" />
        <data android:path="/profile/orders" />
        <data android:pathPrefix="/profile/orders/status" />
        <data android:pathPrefix="/catalog/search" />
        <data android:path="/add" />
        <data android:pathPrefix="/register/confirm" />
        <data android:path="/express" />
      </intent-filter>
    </activity>
    <activity android:name="ru.perekrestok.store.trash.feature.productdetails.ui.video.ProductVideoActivity"
              android:exported="false"
              android:configChanges="orientation|screenSize"
              android:noHistory="true" />
    <receiver android:name="com.appsflyer.SingleInstallBroadcastReceiver"
              android:exported="true">
      <intent-filter>
        <action android:name="com.android.vending.INSTALL_REFERRER" />
      </intent-filter>
    </receiver>
    <service android:name="ru.perekrestok.store.core.features.pushservice.AppFirebaseInstanceIdService"
             android:enabled="false"
             android:exported="false">
      <intent-filter>
        <action android:name="com.google.firebase.MESSAGING_EVENT" />
      </intent-filter>
    </service>
    <service android:name="com.appsflyer.FirebaseMessagingServiceListener"
             android:exported="false">
      <intent-filter>
        <action android:name="com.google.firebase.MESSAGING_EVENT" />
      </intent-filter>
    </service>
    <meta-data android:name="com.google.firebase.messaging.default_notification_icon"
               android:resource="@drawable/ic_push" />
    <meta-data android:name="com.google.firebase.messaging.default_notification_channel_id"
               android:value="ru.x5.perekrestok.darkstore" />
    <meta-data android:name="firebase_crashlytics_collection_enabled"
               android:value="true" />
    <meta-data android:name="com.google.android.gms.wallet.api.enabled"
               android:value="true" />
    <meta-data android:name="im.threads.getServerUrl"
               android:value="https://chat-ds.vprok.ru/" />
    <meta-data android:name="im.threads.getDatastoreUrl"
               android:value="https://chat-ds.vprok.ru/" />
    <meta-data android:name="im.threads.threadsGateUrl"
               android:value="wss://chat2.vprok.ru:443/socket" />
    <meta-data android:name="im.threads.threadsGateProviderUid"
               android:value="@string/threads_gate_provider_uid" />
    <meta-data android:name="im.threads.threadsTransportType"
               android:value="@string/transport_type" />
    <provider android:name="androidx.core.content.FileProvider"
              android:exported="false"
              android:authorities="ru.x5.perekrestok.darkstore.fileprovider"
              android:grantUriPermissions="true">
      <meta-data android:name="android.support.FILE_PROVIDER_PATHS"
                 android:resource="@xml/fileprovider" />
    </provider>
    <meta-data android:name="im.threads.attachmentEnabled"
               android:value="@bool/attachment_enabled" />
    <activity android:theme="@style/ThreadsStyle"
              android:name="im.threads.ui.activities.ChatActivity"
              android:launchMode="singleTop"
              android:windowSoftInputMode="adjustResize|stateAlwaysHidden" />
    <activity android:theme="@style/ThreadsStyleConsultPage"
              android:name="im.threads.ui.activities.ConsultActivity" />
    <activity android:theme="@style/ThreadsStyle"
              android:name="im.threads.ui.activities.filesActivity.FilesActivity" />
    <activity android:theme="@style/ThreadsGalleryStyle"
              android:name="im.threads.ui.activities.GalleryActivity" />
    <activity android:theme="@style/ThreadsGalleryStyle"
              android:name="im.threads.ui.activities.CameraActivity" />
    <activity android:theme="@style/ThreadsGalleryStyle"
              android:name="im.threads.ui.activities.ImagesActivity" />
    <activity android:theme="@style/Translucent"
              android:label=""
              android:name="im.threads.ui.activities.QuickAnswerActivity"
              android:taskAffinity=""
              android:launchMode="singleInstance"
              android:screenOrientation="unspecified" />
    <activity android:theme="@style/Transparent"
              android:label="@string/threads_permissions_help"
              android:name="im.threads.ui.permissions.PermissionsActivity"
              android:screenOrientation="unspecified" />
    <provider android:name="im.threads.business.utils.ThreadsFileProvider"
              android:exported="false"
              android:authorities="ru.x5.perekrestok.darkstore.im.threads.fileprovider"
              android:grantUriPermissions="true">
      <meta-data android:name="android.support.FILE_PROVIDER_PATHS"
                 android:resource="@xml/provider_paths" />
    </provider>
    <service android:name="com.google.firebase.components.ComponentDiscoveryService"
             android:exported="false"
             android:directBootAware="true">
      <meta-data android:name="com.google.firebase.components:com.google.firebase.analytics.ktx.FirebaseAnalyticsKtxRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
      <meta-data android:name="com.google.firebase.components:com.google.firebase.remoteconfig.ktx.FirebaseRemoteConfigKtxRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
      <meta-data android:name="com.google.firebase.components:com.google.firebase.ktx.FirebaseCommonKtxRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
      <meta-data android:name="com.google.firebase.components:com.google.firebase.perf.FirebasePerfRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
      <meta-data android:name="com.google.firebase.components:com.google.firebase.messaging.FirebaseMessagingRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
      <meta-data android:name="com.google.firebase.components:com.google.firebase.analytics.connector.internal.AnalyticsConnectorRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
      <meta-data android:name="com.google.firebase.components:com.google.firebase.crashlytics.CrashlyticsRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
      <meta-data android:name="com.google.firebase.components:com.google.firebase.remoteconfig.RemoteConfigRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
      <meta-data android:name="com.google.firebase.components:com.google.firebase.abt.component.AbtRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
      <meta-data android:name="com.google.firebase.components:com.google.firebase.installations.FirebaseInstallationsRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
      <meta-data android:name="com.google.firebase.components:com.google.firebase.datatransport.TransportRegistrar"
                 android:value="com.google.firebase.components.ComponentRegistrar" />
    </service>
    <provider android:name="com.google.firebase.perf.provider.FirebasePerfProvider"
              android:exported="false"
              android:authorities="ru.x5.perekrestok.darkstore.firebaseperfprovider"
              android:initOrder="101" />
    <receiver android:name="com.google.firebase.iid.FirebaseInstanceIdReceiver"
              android:permission="com.google.android.c2dm.permission.SEND"
              android:exported="true">
      <intent-filter>
        <action android:name="com.google.android.c2dm.intent.RECEIVE" />
      </intent-filter>
    </receiver>
    <service android:name="com.google.firebase.messaging.FirebaseMessagingService"
             android:exported="false"
             android:directBootAware="true">
      <intent-filter android:priority="-500">
        <action android:name="com.google.firebase.MESSAGING_EVENT" />
      </intent-filter>
    </service>
    <receiver android:name="com.google.android.gms.measurement.AppMeasurementReceiver"
              android:enabled="true"
              android:exported="false" />
    <service android:name="com.google.android.gms.measurement.AppMeasurementService"
             android:enabled="true"
             android:exported="false" />
    <service android:name="com.google.android.gms.measurement.AppMeasurementJobService"
             android:permission="android.permission.BIND_JOB_SERVICE"
             android:enabled="true"
             android:exported="false" />
    <provider android:name="com.google.firebase.provider.FirebaseInitProvider"
              android:exported="false"
              android:authorities="ru.x5.perekrestok.darkstore.firebaseinitprovider"
              android:initOrder="100"
              android:directBootAware="true" />
    <meta-data android:name="yandex.maps.runtime.stl.linkage"
               android:value="static" />
    <service android:name="com.evernote.android.job.patched.internal.v21.PlatformJobService"
             android:permission="android.permission.BIND_JOB_SERVICE"
             android:exported="false" />
    <service android:name="com.evernote.android.job.patched.internal.v14.PlatformAlarmService"
             android:permission="android.permission.BIND_JOB_SERVICE"
             android:exported="false" />
    <service android:name="com.evernote.android.job.patched.internal.v14.PlatformAlarmServiceExact"
             android:exported="false" />
    <receiver android:name="com.evernote.android.job.patched.internal.v14.PlatformAlarmReceiver"
              android:exported="false">
      <intent-filter>
        <action android:name="com.evernote.android.job.patched.internal.v14.RUN_JOB" />
        <action android:name="net.vrallev.android.job.v14.RUN_JOB" />
      </intent-filter>
    </receiver>
    <receiver android:name="com.evernote.android.job.patched.internal.JobBootReceiver"
              android:exported="false">
      <intent-filter>
        <action android:name="android.intent.action.BOOT_COMPLETED" />
        <action android:name="android.intent.action.QUICKBOOT_POWERON" />
        <action android:name="com.htc.intent.action.QUICKBOOT_POWERON" />
        <action android:name="android.intent.action.MY_PACKAGE_REPLACED" />
      </intent-filter>
    </receiver>
    <service android:name="com.evernote.android.job.patched.internal.JobRescheduleService"
             android:permission="android.permission.BIND_JOB_SERVICE"
             android:exported="false" />
    <service android:name="com.yandex.runtime.connectivity.internal.ConnectivityService"
             android:permission="android.permission.BIND_JOB_SERVICE"
             android:exported="true" />
    <service android:name="com.yandex.metrica.MetricaService"
             android:enabled="true"
             android:exported="false"
             android:process=":Metrica">
      <intent-filter>
        <category android:name="android.intent.category.DEFAULT" />
        <action android:name="com.yandex.metrica.IMetricaService" />
        <data android:scheme="metrica" />
      </intent-filter>
      <meta-data android:name="metrica:api:level"
                 android:value="105" />
    </service>
    <service android:name="com.yandex.metrica.ConfigurationService"
             android:enabled="true"
             android:exported="false"
             android:process=":Metrica">
      <meta-data android:name="metrica:configuration:api:level"
                 android:value="3" />
      <intent-filter>
        <action android:name="com.yandex.metrica.configuration.ACTION_INIT" />
      </intent-filter>
    </service>
    <service android:name="com.yandex.metrica.ConfigurationJobService"
             android:permission="android.permission.BIND_JOB_SERVICE"
             android:enabled="true"
             android:exported="false"
             android:process=":Metrica" />
    <provider android:name="com.yandex.metrica.PreloadInfoContentProvider"
              android:enabled="true"
              android:exported="true"
              android:process=":Metrica"
              android:authorities="ru.x5.perekrestok.darkstore.appmetrica.preloadinfo.retail" />
    <uses-library android:name="org.apache.http.legacy"
                  android:required="false" />
    <activity android:theme="@android:style/Theme.Translucent.NoTitleBar"
              android:name="com.google.android.gms.common.api.GoogleApiActivity"
              android:exported="false" />
    <meta-data android:name="com.google.android.gms.version"
               android:value="@integer/google_play_services_version" />
    <provider android:name="androidx.startup.InitializationProvider"
              android:exported="false"
              android:authorities="ru.x5.perekrestok.darkstore.androidx-startup">
      <meta-data android:name="androidx.emoji2.text.EmojiCompatInitializer"
                 android:value="androidx.startup" />
      <meta-data android:name="androidx.work.WorkManagerInitializer"
                 android:value="androidx.startup" />
      <meta-data android:name="androidx.lifecycle.ProcessLifecycleInitializer"
                 android:value="androidx.startup" />
    </provider>
    <activity android:theme="@android:style/Theme.Translucent.NoTitleBar"
              android:name="net.openid.appauth.AuthorizationManagementActivity"
              android:exported="false"
              android:launchMode="singleTask" />
    <activity android:name="net.openid.appauth.RedirectUriReceiverActivity"
              android:exported="true">
      <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />
        <data android:scheme="ru.x5.perekrestok.darkstore" />
      </intent-filter>
    </activity>
    <service android:name="androidx.work.impl.background.systemalarm.SystemAlarmService"
             android:enabled="@bool/enable_system_alarm_service_default"
             android:exported="false"
             android:directBootAware="false" />
    <service android:name="androidx.work.impl.background.systemjob.SystemJobService"
             android:permission="android.permission.BIND_JOB_SERVICE"
             android:enabled="@bool/enable_system_job_service_default"
             android:exported="true"
             android:directBootAware="false" />
    <service android:name="androidx.work.impl.foreground.SystemForegroundService"
             android:enabled="@bool/enable_system_foreground_service_default"
             android:exported="false"
             android:directBootAware="false" />
    <receiver android:name="androidx.work.impl.utils.ForceStopRunnable$BroadcastReceiver"
              android:enabled="true"
              android:exported="false"
              android:directBootAware="false" />
    <receiver android:name="androidx.work.impl.background.systemalarm.ConstraintProxy$BatteryChargingProxy"
              android:enabled="false"
              android:exported="false"
              android:directBootAware="false">
      <intent-filter>
        <action android:name="android.intent.action.ACTION_POWER_CONNECTED" />
        <action android:name="android.intent.action.ACTION_POWER_DISCONNECTED" />
      </intent-filter>
    </receiver>
    <receiver android:name="androidx.work.impl.background.systemalarm.ConstraintProxy$BatteryNotLowProxy"
              android:enabled="false"
              android:exported="false"
              android:directBootAware="false">
      <intent-filter>
        <action android:name="android.intent.action.BATTERY_OKAY" />
        <action android:name="android.intent.action.BATTERY_LOW" />
      </intent-filter>
    </receiver>
    <receiver android:name="androidx.work.impl.background.systemalarm.ConstraintProxy$StorageNotLowProxy"
              android:enabled="false"
              android:exported="false"
              android:directBootAware="false">
      <intent-filter>
        <action android:name="android.intent.action.DEVICE_STORAGE_LOW" />
        <action android:name="android.intent.action.DEVICE_STORAGE_OK" />
      </intent-filter>
    </receiver>
    <receiver android:name="androidx.work.impl.background.systemalarm.ConstraintProxy$NetworkStateProxy"
              android:enabled="false"
              android:exported="false"
              android:directBootAware="false">
      <intent-filter>
        <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
      </intent-filter>
    </receiver>
    <receiver android:name="androidx.work.impl.background.systemalarm.RescheduleReceiver"
              android:enabled="false"
              android:exported="false"
              android:directBootAware="false">
      <intent-filter>
        <action android:name="android.intent.action.BOOT_COMPLETED" />
        <action android:name="android.intent.action.TIME_SET" />
        <action android:name="android.intent.action.TIMEZONE_CHANGED" />
      </intent-filter>
    </receiver>
    <receiver android:name="androidx.work.impl.background.systemalarm.ConstraintProxyUpdateReceiver"
              android:enabled="@bool/enable_system_alarm_service_default"
              android:exported="false"
              android:directBootAware="false">
      <intent-filter>
        <action android:name="androidx.work.impl.background.systemalarm.UpdateProxies" />
      </intent-filter>
    </receiver>
    <receiver android:name="androidx.work.impl.diagnostics.DiagnosticsReceiver"
              android:permission="android.permission.DUMP"
              android:enabled="true"
              android:exported="true"
              android:directBootAware="false">
      <intent-filter>
        <action android:name="androidx.work.diagnostics.REQUEST_DIAGNOSTICS" />
      </intent-filter>
    </receiver>
    <service android:name="com.google.android.datatransport.runtime.backends.TransportBackendDiscovery"
             android:exported="false">
      <meta-data android:name="backend:com.google.android.datatransport.cct.CctBackendFactory"
                 android:value="cct" />
    </service>
    <service android:name="com.google.android.datatransport.runtime.scheduling.jobscheduling.JobInfoSchedulerService"
             android:permission="android.permission.BIND_JOB_SERVICE"
             android:exported="false" />
    <receiver android:name="com.google.android.datatransport.runtime.scheduling.jobscheduling.AlarmManagerSchedulerBroadcastReceiver"
              android:exported="false" />
    <service android:name="androidx.room.MultiInstanceInvalidationService"
             android:exported="false"
             android:directBootAware="true" />
    <provider android:name="com.squareup.picasso.PicassoProvider"
              android:exported="false"
              android:authorities="ru.x5.perekrestok.darkstore.com.squareup.picasso" />
    <service android:name="com.group_ib.sdk.MobileSdkService"
             android:exported="false" />
    <meta-data android:name="com.huawei.hms.client.appid"
               android:value="appid=102678617" />
    <meta-data android:name="com.android.dynamic.apk.fused.modules"
               android:value="base" />
    <meta-data android:name="com.android.stamp.source"
               android:value="https://play.google.com/store" />
    <meta-data android:name="com.android.stamp.type"
               android:value="STAMP_TYPE_STANDALONE_APK" />
    <meta-data android:name="com.android.vending.splits"
               android:resource="@xml/splits0" />
    <meta-data android:name="com.android.vending.derived.apk.id"
               android:value="2" />
  </application>
</manifest>